<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Руда Кликер</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --tg-blue: #0088cc;
            --tg-dark: #17212b;
            --tg-darker: #0f1620;
            --tg-light: #242f3d;
            --tg-text: #ffffff;
            --tg-secondary: #6b7b8c;
            --tg-green: #2ea043;
            --tg-gold: #ffb347;
            --tg-red: #ff3b30;
        }

        body {
            background-color: var(--tg-darker);
            color: var(--tg-text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--tg-dark), var(--tg-light));
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            border-left: 5px solid var(--tg-blue);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
            color: var(--tg-blue);
            animation: pulse 2s infinite;
        }

        .logo-text h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .logo-text p {
            color: var(--tg-secondary);
            font-size: 0.9rem;
        }

        .stats {
            display: flex;
            gap: 25px;
            text-align: right;
        }

        .stat-box {
            display: flex;
            flex-direction: column;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--tg-gold);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--tg-secondary);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .clicker-section {
            background-color: var(--tg-dark);
            border-radius: 16px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .clicker-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--tg-gold);
            text-align: center;
        }

        .ore-container {
            position: relative;
            margin: 20px 0;
            cursor: pointer;
            transition: transform 0.1s;
        }

        .ore {
            font-size: 10rem;
            color: var(--tg-blue);
            filter: drop-shadow(0 0 15px rgba(0, 136, 204, 0.5));
            animation: float 4s ease-in-out infinite;
        }

        .click-effect {
            position: absolute;
            font-size: 2rem;
            color: var(--tg-gold);
            font-weight: bold;
            pointer-events: none;
            animation: floatUp 1s forwards;
            opacity: 0;
        }

        .click-info {
            margin-top: 20px;
            text-align: center;
            color: var(--tg-secondary);
            font-size: 0.9rem;
        }

        .upgrades-section {
            background-color: var(--tg-dark);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--tg-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .upgrades-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            overflow-y: auto;
            max-height: 400px;
            padding-right: 10px;
        }

        .upgrade-item {
            background-color: var(--tg-light);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s;
            border-left: 4px solid transparent;
        }

        .upgrade-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .upgrade-item.unlocked {
            border-left-color: var(--tg-green);
        }

        .upgrade-item.locked {
            opacity: 0.7;
            filter: grayscale(0.5);
        }

        .upgrade-icon {
            font-size: 2.5rem;
            color: var(--tg-gold);
        }

        .upgrade-info {
            flex: 1;
        }

        .upgrade-name {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .upgrade-desc {
            font-size: 0.9rem;
            color: var(--tg-secondary);
            margin-bottom: 8px;
        }

        .upgrade-stats {
            display: flex;
            gap: 15px;
            font-size: 0.85rem;
        }

        .upgrade-stat {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--tg-gold);
        }

        .upgrade-cost {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--tg-green);
            min-width: 100px;
            text-align: right;
        }

        .upgrade-btn {
            background-color: var(--tg-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .upgrade-btn:hover:not(:disabled) {
            background-color: #0077b3;
            transform: scale(1.05);
        }

        .upgrade-btn:disabled {
            background-color: var(--tg-secondary);
            cursor: not-allowed;
        }

        .achievements-section {
            background-color: var(--tg-dark);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            grid-column: 1 / -1;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .achievement-card {
            background-color: var(--tg-light);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s;
        }

        .achievement-card.unlocked {
            border-left: 4px solid var(--tg-gold);
        }

        .achievement-card.locked {
            opacity: 0.6;
        }

        .achievement-icon {
            font-size: 2.5rem;
            color: var(--tg-gold);
        }

        .achievement-info {
            flex: 1;
        }

        .achievement-name {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .achievement-desc {
            font-size: 0.9rem;
            color: var(--tg-secondary);
            margin-bottom: 10px;
        }

        .achievement-progress {
            height: 6px;
            background-color: var(--tg-dark);
            border-radius: 3px;
            overflow: hidden;
        }

        .achievement-progress-bar {
            height: 100%;
            background-color: var(--tg-green);
            transition: width 0.5s;
        }

        .achievement-reward {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--tg-gold);
            font-weight: bold;
        }

        .auto-miners {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .auto-miner {
            background-color: var(--tg-light);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 200px;
        }

        .auto-miner-icon {
            font-size: 2rem;
            color: var(--tg-blue);
        }

        .auto-miner-info h4 {
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .auto-miner-info p {
            font-size: 0.85rem;
            color: var(--tg-secondary);
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: var(--tg-secondary);
            font-size: 0.9rem;
            border-top: 1px solid var(--tg-light);
            margin-top: 20px;
        }

        /* Анимации */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-50px);
                opacity: 0;
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .shake {
            animation: shake 0.2s;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--tg-green);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(150%);
            transition: transform 0.5s;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-icon {
            font-size: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Шапка с основной информацией -->
        <div class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-mountain"></i>
                </div>
                <div class="logo-text">
                    <h1>Telegram Руда Кликер</h1>
                    <p>Добывайте руду, улучшайте шахту, получайте достижения!</p>
                </div>
            </div>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="ore-count">0</div>
                    <div class="stat-label">Руда</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="ore-per-click">1</div>
                    <div class="stat-label">За клик</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="ore-per-second">0</div>
                    <div class="stat-label">В секунду</div>
                </div>
            </div>
        </div>

        <!-- Основной контент -->
        <div class="main-content">
            <!-- Секция кликера -->
            <section class="clicker-section">
                <h2 class="clicker-title">Кликайте по руде!</h2>
                <div class="ore-container" id="ore-container">
                    <div class="ore" id="ore">
                        <i class="fas fa-gem"></i>
                    </div>
                </div>
                <div class="click-info">
                    <p>Кликайте на руду для добычи. Улучшайте шахту для увеличения добычи!</p>
                    <p>Автоматических шахт: <span id="miner-count">0</span></p>
                </div>
                
                <!-- Автоматические шахты -->
                <div class="auto-miners">
                    <div class="auto-miner">
                        <div class="auto-miner-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="auto-miner-info">
                            <h4>Авто-шахты</h4>
                            <p>Добывают руду автоматически</p>
                        </div>
                    </div>
                    <div class="auto-miner">
                        <div class="auto-miner-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="auto-miner-info">
                            <h4>Бустеры</h4>
                            <p>Временно увеличивают добычу</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Секция улучшений -->
            <section class="upgrades-section">
                <h2 class="section-title">
                    <i class="fas fa-arrow-up"></i>
                    Улучшения шахты
                </h2>
                <div class="upgrades-list" id="upgrades-list">
                    <!-- Улучшения будут загружены через JavaScript -->
                </div>
            </section>

            <!-- Секция достижений -->
            <section class="achievements-section">
                <h2 class="section-title">
                    <i class="fas fa-trophy"></i>
                    Достижения
                </h2>
                <div class="achievements-grid" id="achievements-grid">
                    <!-- Достижения будут загружены через JavaScript -->
                </div>
            </section>
        </div>

        <!-- Уведомления -->
        <div class="notification" id="notification">
            <div class="notification-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="notification-text">Достижение получено!</div>
        </div>

        <!-- Футер -->
        <footer class="footer">
            <p>Telegram Руда Кликер &copy; 2023 | Создано с <i class="fas fa-heart" style="color: #ff3b30;"></i> для фанатов кликеров</p>
        </footer>
    </div>

    <script>
        // Игровые данные
        const game = {
            ore: 0,
            orePerClick: 1,
            orePerSecond: 0,
            miners: 0,
            upgrades: [
                {
                    id: 1,
                    name: "Улучшенная кирка",
                    description: "Увеличивает добычу за клик",
                    icon: "fas fa-hammer",
                    cost: 10,
                    increase: 1,
                    type: "click",
                    level: 0,
                    maxLevel: 10
                },
                {
                    id: 2,
                    name: "Усиленные перчатки",
                    description: "Увеличивают силу удара",
                    icon: "fas fa-hand-fist",
                    cost: 50,
                    increase: 2,
                    type: "click",
                    level: 0,
                    maxLevel: 5
                },
                {
                    id: 3,
                    name: "Автоматическая шахта",
                    description: "Добывает руду автоматически",
                    icon: "fas fa-robot",
                    cost: 100,
                    increase: 1,
                    type: "auto",
                    level: 0,
                    maxLevel: 20
                },
                {
                    id: 4,
                    name: "Буровая установка",
                    description: "Увеличивает авто-добычу",
                    icon: "fas fa-digging",
                    cost: 500,
                    increase: 5,
                    type: "auto",
                    level: 0,
                    maxLevel: 10
                },
                {
                    id: 5,
                    name: "Взрывчатка",
                    description: "Взрывает породу для быстрой добычи",
                    icon: "fas fa-bomb",
                    cost: 1000,
                    increase: 10,
                    type: "click",
                    level: 0,
                    maxLevel: 5
                },
                {
                    id: 6,
                    name: "Квантовый экстрактор",
                    description: "Сверхэффективная добыча",
                    icon: "fas fa-atom",
                    cost: 5000,
                    increase: 50,
                    type: "auto",
                    level: 0,
                    maxLevel: 5
                },
                {
                    id: 7,
                    name: "Телепорт руды",
                    description: "Мгновенная доставка ресурсов",
                    icon: "fas fa-person-walking-arrow-right",
                    cost: 10000,
                    increase: 100,
                    type: "click",
                    level: 0,
                    maxLevel: 3
                },
                {
                    id: 8,
                    name: "Планетоход",
                    description: "Добывает редкие ресурсы",
                    icon: "fas fa-space-shuttle",
                    cost: 50000,
                    increase: 500,
                    type: "auto",
                    level: 0,
                    maxLevel: 3
                }
            ],
            achievements: [
                {
                    id: 1,
                    name: "Первая руда",
                    description: "Добудьте 10 единиц руды",
                    icon: "fas fa-gem",
                    goal: 10,
                    progress: 0,
                    reward: 50,
                    unlocked: false
                },
                {
                    id: 2,
                    name: "Начинающий шахтер",
                    description: "Добудьте 100 единиц руды",
                    icon: "fas fa-helmet-safety",
                    goal: 100,
                    progress: 0,
                    reward: 200,
                    unlocked: false
                },
                {
                    id: 3,
                    name: "Промышленник",
                    description: "Добудьте 1000 единиц руды",
                    icon: "fas fa-industry",
                    goal: 1000,
                    progress: 0,
                    reward: 1000,
                    unlocked: false
                },
                {
                    id: 4,
                    name: "Магнат",
                    description: "Добудьте 10000 единиц руды",
                    icon: "fas fa-crown",
                    goal: 10000,
                    progress: 0,
                    reward: 5000,
                    unlocked: false
                },
                {
                    id: 5,
                    name: "Коллекционер улучшений",
                    description: "Купите 5 улучшений",
                    icon: "fas fa-shopping-cart",
                    goal: 5,
                    progress: 0,
                    reward: 300,
                    unlocked: false
                },
                {
                    id: 6,
                    name: "Мастер улучшений",
                    description: "Купите 20 улучшений",
                    icon: "fas fa-tools",
                    goal: 20,
                    progress: 0,
                    reward: 2000,
                    unlocked: false
                },
                {
                    id: 7,
                    name: "Автоматизатор",
                    description: "Купите 10 авто-шахт",
                    icon: "fas fa-robot",
                    goal: 10,
                    progress: 0,
                    reward: 1500,
                    unlocked: false
                },
                {
                    id: 8,
                    name: "Легенда рудников",
                    description: "Достигните 10 уровня улучшенной кирки",
                    icon: "fas fa-award",
                    goal: 10,
                    progress: 0,
                    reward: 5000,
                    unlocked: false
                }
            ],
            totalClicks: 0,
            totalUpgrades: 0
        };

        // Инициализация игры
        document.addEventListener('DOMContentLoaded', function() {
            loadGame();
            renderUpgrades();
            renderAchievements();
            updateStats();
            setupEventListeners();
            startGameLoop();
            
            // Загружаем сохраненную игру
            if (localStorage.getItem('oreClickerSave')) {
                loadSave();
            }
        });

        // Загрузка сохраненной игры
        function loadSave() {
            const save = JSON.parse(localStorage.getItem('oreClickerSave'));
            if (save) {
                game.ore = save.ore || 0;
                game.orePerClick = save.orePerClick || 1;
                game.orePerSecond = save.orePerSecond || 0;
                game.miners = save.miners || 0;
                game.upgrades = save.upgrades || game.upgrades;
                game.achievements = save.achievements || game.achievements;
                game.totalClicks = save.totalClicks || 0;
                game.totalUpgrades = save.totalUpgrades || 0;
                
                updateStats();
                renderUpgrades();
                renderAchievements();
            }
        }

        // Сохранение игры
        function saveGame() {
            const save = {
                ore: game.ore,
                orePerClick: game.orePerClick,
                orePerSecond: game.orePerSecond,
                miners: game.miners,
                upgrades: game.upgrades,
                achievements: game.achievements,
                totalClicks: game.totalClicks,
                totalUpgrades: game.totalUpgrades,
                timestamp: Date.now()
            };
            
            localStorage.setItem('oreClickerSave', JSON.stringify(save));
        }

        // Настройка обработчиков событий
        function setupEventListeners() {
            // Клик по руде
            const oreContainer = document.getElementById('ore-container');
            const ore = document.getElementById('ore');
            
            oreContainer.addEventListener('click', function(e) {
                // Создаем эффект клика
                createClickEffect(e.clientX, e.clientY);
                
                // Добавляем руду
                game.ore += game.orePerClick;
                game.totalClicks++;
                
                // Анимация руды
                ore.classList.add('shake');
                setTimeout(() => ore.classList.remove('shake'), 200);
                
                // Обновляем статистику
                updateStats();
                
                // Проверяем достижения
                checkAchievements();
                
                // Сохраняем игру
                saveGame();
            });
            
            // Авто-сохранение каждые 30 секунд
            setInterval(saveGame, 30000);
        }

        // Создание эффекта при клике
        function createClickEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.textContent = `+${game.orePerClick}`;
            effect.style.left = `${x - oreContainer.getBoundingClientRect().left}px`;
            effect.style.top = `${y - oreContainer.getBoundingClientRect().top}px`;
            
            document.getElementById('ore-container').appendChild(effect);
            
            // Удаляем эффект после анимации
            setTimeout(() => effect.remove(), 1000);
        }

        // Рендеринг улучшений
        function renderUpgrades() {
            const upgradesList = document.getElementById('upgrades-list');
            upgradesList.innerHTML = '';
            
            game.upgrades.forEach(upgrade => {
                const upgradeElement = document.createElement('div');
                upgradeElement.className = `upgrade-item ${upgrade.level > 0 ? 'unlocked' : ''} ${upgrade.level >= upgrade.maxLevel ? 'locked' : ''}`;
                
                // Рассчитываем стоимость улучшения
                const cost = Math.floor(upgrade.cost * Math.pow(1.5, upgrade.level));
                const canAfford = game.ore >= cost;
                
                upgradeElement.innerHTML = `
                    <div class="upgrade-icon">
                        <i class="${upgrade.icon}"></i>
                    </div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">${upgrade.name} (Ур. ${upgrade.level}/${upgrade.maxLevel})</div>
                        <div class="upgrade-desc">${upgrade.description}</div>
                        <div class="upgrade-stats">
                            <div class="upgrade-stat">
                                <i class="fas fa-arrow-up"></i>
                                <span>+${upgrade.increase} ${upgrade.type === 'click' ? 'за клик' : 'в секунду'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="upgrade-cost">${cost}</div>
                    <button class="upgrade-btn" ${!canAfford || upgrade.level >= upgrade.maxLevel ? 'disabled' : ''} data-id="${upgrade.id}">
                        ${upgrade.level >= upgrade.maxLevel ? 'МАКС' : 'Купить'}
                    </button>
                `;
                
                upgradesList.appendChild(upgradeElement);
            });
            
            // Добавляем обработчики для кнопок улучшений
            document.querySelectorAll('.upgrade-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    buyUpgrade(id);
                });
            });
        }

        // Покупка улучшения
        function buyUpgrade(id) {
            const upgrade = game.upgrades.find(u => u.id === id);
            if (!upgrade || upgrade.level >= upgrade.maxLevel) return;
            
            const cost = Math.floor(upgrade.cost * Math.pow(1.5, upgrade.level));
            
            if (game.ore >= cost) {
                game.ore -= cost;
                upgrade.level++;
                game.totalUpgrades++;
                
                if (upgrade.type === 'click') {
                    game.orePerClick += upgrade.increase;
                } else if (upgrade.type === 'auto') {
                    game.orePerSecond += upgrade.increase;
                    game.miners = game.upgrades
                        .filter(u => u.type === 'auto')
                        .reduce((total, u) => total + (u.level * u.increase), 0);
                }
                
                updateStats();
                renderUpgrades();
                checkAchievements();
                saveGame();
                
                // Показываем уведомление
                showNotification(`Улучшение "${upgrade.name}" куплено!`);
            }
        }

        // Рендеринг достижений
        function renderAchievements() {
            const achievementsGrid = document.getElementById('achievements-grid');
            achievementsGrid.innerHTML = '';
            
            game.achievements.forEach(achievement => {
                const progress = Math.min(achievement.progress / achievement.goal * 100, 100);
                
                const achievementElement = document.createElement('div');
                achievementElement.className = `achievement-card ${achievement.unlocked ? 'unlocked' : 'locked'}`;
                
                achievementElement.innerHTML = `
                    <div class="achievement-icon">
                        <i class="${achievement.icon}"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-name">${achievement.name} ${achievement.unlocked ? '✓' : ''}</div>
                        <div class="achievement-desc">${achievement.description}</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: ${progress}%"></div>
                        </div>
                        <div class="achievement-reward">
                            <i class="fas fa-coins"></i>
                            <span>Награда: ${achievement.reward} руды</span>
                        </div>
                    </div>
                `;
                
                achievementsGrid.appendChild(achievementElement);
            });
        }

        // Проверка достижений
        function checkAchievements() {
            let newAchievements = 0;
            
            // Обновляем прогресс достижений
            game.achievements.forEach(achievement => {
                if (achievement.unlocked) return;
                
                // Устанавливаем прогресс в зависимости от типа достижения
                if (achievement.id <= 4) {
                    // Достижения по количеству руды
                    achievement.progress = game.ore;
                } else if (achievement.id === 5 || achievement.id === 6) {
                    // Достижения по количеству улучшений
                    achievement.progress = game.totalUpgrades;
                } else if (achievement.id === 7) {
                    // Достижение по количеству авто-шахт
                    achievement.progress = game.upgrades
                        .filter(u => u.type === 'auto')
                        .reduce((total, u) => total + u.level, 0);
                } else if (achievement.id === 8) {
                    // Достижение по уровню улучшенной кирки
                    const pickaxeUpgrade = game.upgrades.find(u => u.id === 1);
                    achievement.progress = pickaxeUpgrade.level;
                }
                
                // Проверяем, выполнено ли достижение
                if (achievement.progress >= achievement.goal) {
                    achievement.unlocked = true;
                    game.ore += achievement.reward;
                    newAchievements++;
                    
                    // Показываем уведомление
                    showNotification(`Достижение "${achievement.name}" получено! +${achievement.reward} руды`);
                }
            });
            
            if (newAchievements > 0) {
                updateStats();
                renderAchievements();
            }
        }

        // Обновление статистики
        function updateStats() {
            document.getElementById('ore-count').textContent = formatNumber(game.ore);
            document.getElementById('ore-per-click').textContent = formatNumber(game.orePerClick);
            document.getElementById('ore-per-second').textContent = formatNumber(game.orePerSecond);
            document.getElementById('miner-count').textContent = game.miners;
        }

        // Игровой цикл для авто-добычи
        function startGameLoop() {
            setInterval(() => {
                if (game.orePerSecond > 0) {
                    game.ore += game.orePerSecond;
                    updateStats();
                    checkAchievements();
                    saveGame();
                }
            }, 1000);
        }

        // Показать уведомление
        function showNotification(text) {
            const notification = document.getElementById('notification');
            const notificationText = notification.querySelector('.notification-text');
            
            notificationText.textContent = text;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Форматирование чисел
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            }
            if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return Math.floor(num);
        }

        // Загрузка игры
        function loadGame() {
            // Можно добавить начальную загрузку из localStorage
            console.log('Игра загружена!');
        }
    </script>
</body>
</html>
